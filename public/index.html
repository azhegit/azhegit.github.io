<!DOCTYPE html>
<html lang="zh-cn">
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    
    <script type="application/ld+json">

{  
  "@context":"http://schema.org",
  "@type":"Website",
  "@id":"http:\/\/localhost:1313\/",
  "author": {
    "@type": "Person",
    "name": "阿·哲",
    
    "image": "https://www.azheimage.top/markdown-img-paste-20200805194639512.png"
    
  },
  "name":"☀️哲の小窝☀️",
  "description":"Hugo tranquilpeak theme demo",
  "url":"http:\/\/localhost:1313\/",
  "keywords":"[]"
}

</script>
    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="generator" content="Hugo 0.128.1 with theme Tranquilpeak 0.5.3-BETA">
<meta name="author" content="阿·哲">
<meta name="keywords" content="">
<meta name="description" content="Hugo tranquilpeak theme demo">


<meta property="og:description" content="Hugo tranquilpeak theme demo">
<meta property="og:type" content="website">
<meta property="og:title" content="☀️哲の小窝☀️">
<meta name="twitter:title" content="☀️哲の小窝☀️">
<meta property="og:url" content="http://localhost:1313/">
<meta property="twitter:url" content="http://localhost:1313/">
<meta property="og:site_name" content="☀️哲の小窝☀️">
<meta property="og:description" content="Hugo tranquilpeak theme demo">
<meta name="twitter:description" content="Hugo tranquilpeak theme demo">
<meta property="og:locale" content="zh-cn">


<meta name="twitter:card" content="summary">







  <meta property="og:image" content="https://www.azheimage.top/markdown-img-paste-20200805194639512.png">
  <meta property="twitter:image" content="https://www.azheimage.top/markdown-img-paste-20200805194639512.png">






    <title>☀️哲の小窝☀️</title>

    <link rel="icon" href="https://www.azheimage.top/markdown-img-paste-20200805194639512.png">
    
      <link rel="alternate" type="application/rss+xml" title="RSS" href="http://localhost:1313/index.xml">
    

    

    <link rel="canonical" href="http://localhost:1313/">

    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" integrity="sha512-iBBXm8fW90+nuLcSKlbmrPcLa0OT92xO1BIsZ+ywDWZCvqsWgccV3gFoRBv0z+8dLJgyAHIhR35VZc2oM/gI1w==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css" integrity="sha512-H9jrZiiopUdsLpg94A333EfumgUBpO9MdbxStdeITo+KEIMaNfHNvwyjjDJb+ERPaRS6DpyRlKbvPUasNItRyw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    
    
    
    <link rel="stylesheet" href="http://localhost:1313/css/style-h6ccsoet3mzkbb0wngshlfbaweimexgqcxj0h5hu4h82olsdzz6wmqdkajm.min.css" />
    
    

    
      
  


    
    
  </head>

  <body>
    <div id="blog">
      <header id="header" data-behavior="2">
  <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
  <div class="header-title">
    <a class="header-title-link" href="http://localhost:1313/" aria-label="去首页">☀️哲の小窝☀️</a>
  </div>
  
</header>

      <nav id="sidebar" data-behavior="2">
  <div class="sidebar-container">
    
      <div class="sidebar-profile">
        <a href="http://localhost:1313/#about" aria-label="阅读有关作者的更多信息">
          <img class="sidebar-profile-picture" src="https://www.azheimage.top/markdown-img-paste-20200805194639512.png" alt="作者的图片" />
        </a>
        <h4 class="sidebar-profile-name">阿·哲</h4>
        
          <h5 class="sidebar-profile-bio">从事Java、Hadoop、Spark、Flink等大数据技术，离线实时解决方案！</h5>
        
      </div>
    
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="http://localhost:1313/" title="Home">
    
      <i class="sidebar-button-icon fa fa-lg fa-home"></i>
      
      <span class="sidebar-button-desc">首页</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="http://localhost:1313/categories" title="Categories">
    
      <i class="sidebar-button-icon fa fa-lg fa-bookmark"></i>
      
      <span class="sidebar-button-desc">分类</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="http://localhost:1313/tags" title="Tags">
    
      <i class="sidebar-button-icon fa fa-lg fa-tags"></i>
      
      <span class="sidebar-button-desc">标签</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="http://localhost:1313/archives" title="Archives">
    
      <i class="sidebar-button-icon fa fa-lg fa-archive"></i>
      
      <span class="sidebar-button-desc">归档</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="http://localhost:1313/#about" title="About">
    
      <i class="sidebar-button-icon fa fa-lg fa-question"></i>
      
      <span class="sidebar-button-desc">关于</span>
    </a>
  </li>


    </ul>
    <ul class="sidebar-buttons">
      

    </ul>
    <ul class="sidebar-buttons">
      

    </ul>
  </div>
</nav>

      

      <div id="main" data-behavior="2"
        class="
               hasCoverMetaIn
               ">
        <section class="postShorten-group main-content-wrap">
          
          
            
  
    
  


  

<article class="postShorten postShorten--thumbnailimg-top">
  <div class="postShorten-wrap">
    
      
        <a href="http://localhost:1313/2024/07/%E6%AC%A2%E8%BF%8E%E6%9D%A5%E5%88%B0-%EF%B8%8F%E5%93%B2%E3%81%AE%E5%B0%8F%E7%AA%9D%EF%B8%8F/" aria-label="打开帖子: 欢迎来到 ☀️哲の小窝☀️">
      
        <div class="postShorten-thumbnailimg">
          <img alt="" src="//d1u9biwaxjngwg.cloudfront.net/welcome-to-tranquilpeak/city-750.jpg"/>
        </div>
      </a>
    
    <div class="postShorten-header">
      <h1 class="postShorten-title">
      
        <a class="link-unstyled" href="http://localhost:1313/2024/07/%E6%AC%A2%E8%BF%8E%E6%9D%A5%E5%88%B0-%EF%B8%8F%E5%93%B2%E3%81%AE%E5%B0%8F%E7%AA%9D%EF%B8%8F/" aria-label="打开帖子: 欢迎来到 ☀️哲の小窝☀️">
      
          欢迎来到 ☀️哲の小窝☀️
        </a>
      </h1>
      
  <div class="postShorten-meta post-meta">
    
      <time datetime="2024-07-03T20:11:21&#43;08:00">
        
  
  
  
  
    2024 年 七月 3 号
  

      </time>
    
    
  
  
    <span>发布在</span>
    
      <a class="category-link" href="http://localhost:1313/categories/%e7%94%9f%e6%b4%bb">生活</a>
    
  

  </div>

    </div>
    <div class="postShorten-excerpt">
      
        <p>这个小窝就是用来记录平时工作，学习，随笔的地方！</p>
<p>有问题联系可以加我微信👇</p>
      
      <p>
        
          <a href="http://localhost:1313/2024/07/%E6%AC%A2%E8%BF%8E%E6%9D%A5%E5%88%B0-%EF%B8%8F%E5%93%B2%E3%81%AE%E5%B0%8F%E7%AA%9D%EF%B8%8F/" class="postShorten-excerpt_link link" aria-label="打开帖子: 欢迎来到 ☀️哲の小窝☀️">阅读全文</a>
        
        
      </p>
    </div>
  </div>
  
</article>

          
            
  
    
  


  

<article class="postShorten postShorten--thumbnailimg-right">
  <div class="postShorten-wrap">
    
    <div class="postShorten-header">
      <h1 class="postShorten-title">
      
        <a class="link-unstyled" href="http://localhost:1313/2024/07/1.-s3%E4%BD%BF%E7%94%A8/" aria-label="打开帖子: 1. S3使用">
      
          1. S3使用
        </a>
      </h1>
      
  <div class="postShorten-meta post-meta">
    
      <time datetime="2024-07-03T19:59:56&#43;08:00">
        
  
  
  
  
    2024 年 七月 3 号
  

      </time>
    
    
  
  
    <span>发布在</span>
    
      <a class="category-link" href="http://localhost:1313/categories/%e6%8a%80%e6%9c%af">技术</a>, 
    
      <a class="category-link" href="http://localhost:1313/categories/%e5%a4%a7%e6%95%b0%e6%8d%ae">大数据</a>
    
  

  </div>

    </div>
    <div class="postShorten-excerpt">
      
        创建S3存储桶 部分参数，主要是存储桶名称，注意不能用下换线 建好了之后 
      
      <p>
        
          <a href="http://localhost:1313/2024/07/1.-s3%E4%BD%BF%E7%94%A8/" class="postShorten-excerpt_link link" aria-label="打开帖子: 1. S3使用">阅读全文</a>
        
        
      </p>
    </div>
  </div>
  
    <a href="http://localhost:1313/2024/07/1.-s3%E4%BD%BF%E7%94%A8/" aria-label="打开帖子: 1. S3使用">
      <div class="postShorten-thumbnailimg">
        <img alt="" src="//www.azheimage.top/markdown-img-paste-20180716211900993.png"/>
      </div>
    </a>
  
</article>

          
            
  
    
  


  

<article class="postShorten postShorten--thumbnailimg-right">
  <div class="postShorten-wrap">
    
    <div class="postShorten-header">
      <h1 class="postShorten-title">
      
        <a class="link-unstyled" href="http://localhost:1313/2024/07/2.-glue%E4%BD%BF%E7%94%A8/" aria-label="打开帖子: 2. glue使用">
      
          2. glue使用
        </a>
      </h1>
      
  <div class="postShorten-meta post-meta">
    
      <time datetime="2024-07-03T19:59:56&#43;08:00">
        
  
  
  
  
    2024 年 七月 3 号
  

      </time>
    
    
  
  
    <span>发布在</span>
    
      <a class="category-link" href="http://localhost:1313/categories/%e6%8a%80%e6%9c%af">技术</a>, 
    
      <a class="category-link" href="http://localhost:1313/categories/%e5%a4%a7%e6%95%b0%e6%8d%ae">大数据</a>
    
  

  </div>

    </div>
    <div class="postShorten-excerpt">
      
        创建glue database 建好的库 上传文件
#文件内容 1,lili,12 2,susam,31 3,david,28 手动建表 创建表 定义表元数据 通过Athena查询表数据 爬网程序建表 准备数据，到新目录 添加爬网程序 配置数据源 配置调度 审查配置 爬网程序创建成功 执行爬网程序 问题处理 但是我们用Athena并没有查询到相关表，通过view run details，排查到相关权限不足
[b08f44f6-0ebb-45ad-a7b6-de40e0f5d0a4] ERROR : Not all read errors will be logged. com.amazonaws.services.s3.model.AmazonS3Exception: Access Denied (Service: Amazon S3; Status Code: 403; Error Code: AccessDenied; Request ID: ZNBVDKGA3RDD1BX8; S3 Extended Request ID: /D7xWVzGPZqFQtTxIimmWwJmlszKvUfNa0/IuV+DODaYy1ItbL/mk3HFmRFiQTKzcytI4B47dxlu7u+5DqQ+jA==; Proxy: null), S3 Extended Request ID: /D7xWVzGPZqFQtTxIimmWwJmlszKvUfNa0/IuV+DODaYy1ItbL/mk3HFmRFiQTKzcytI4B47dxlu7u+5DqQ+jA== IAM权限不够，创建新的IAM角色，参考连接
创建s3目录读写权限策略 添加ListBucket，PutObject，GetObject，DeleteObject，并指定arn路径：arn:aws:s3:::gavin-data-demo/database/* 修改策略名，检查权限 创建角色，添加该策略 修改爬网程序，指定新建的角色 重新执行成功 Athena查询成功 glue etl把csv转为json 创建glue etl作业，指定source为glue data catalog，target为S3 配置source 自动配置映射转换 配置target 配置Job Details 运行任务，查看详情 查看S3目录及下载后文件内容,同时设置了建表，所以也会新建gavin_demo_json这张表 通过crawler建表 
      
      <p>
        
          <a href="http://localhost:1313/2024/07/2.-glue%E4%BD%BF%E7%94%A8/" class="postShorten-excerpt_link link" aria-label="打开帖子: 2. glue使用">阅读全文</a>
        
        
      </p>
    </div>
  </div>
  
    <a href="http://localhost:1313/2024/07/2.-glue%E4%BD%BF%E7%94%A8/" aria-label="打开帖子: 2. glue使用">
      <div class="postShorten-thumbnailimg">
        <img alt="" src="//www.azheimage.top/markdown-img-paste-2018111316510833.png"/>
      </div>
    </a>
  
</article>

          
            
  
    
  


  

<article class="postShorten postShorten--thumbnailimg-right">
  <div class="postShorten-wrap">
    
    <div class="postShorten-header">
      <h1 class="postShorten-title">
      
        <a class="link-unstyled" href="http://localhost:1313/2024/07/3.-kinesis%E4%BD%BF%E7%94%A8/" aria-label="打开帖子: 3. kinesis使用">
      
          3. kinesis使用
        </a>
      </h1>
      
  <div class="postShorten-meta post-meta">
    
      <time datetime="2024-07-03T19:59:56&#43;08:00">
        
  
  
  
  
    2024 年 七月 3 号
  

      </time>
    
    
  
  
    <span>发布在</span>
    
      <a class="category-link" href="http://localhost:1313/categories/%e6%8a%80%e6%9c%af">技术</a>, 
    
      <a class="category-link" href="http://localhost:1313/categories/%e5%a4%a7%e6%95%b0%e6%8d%ae">大数据</a>
    
  

  </div>

    </div>
    <div class="postShorten-excerpt">
      
        Amazon Kinesis Data Streams 数据流(可以用kafka类比理解) 创建数据流StockTradeStream 创建IAM，参考文档 本机KPL写入数据 本机KPL消费数据并计算 日志看不到，需要额外配置log4j.properties,以及增加slf4j-log4j12的jar包 排查日志，发现，需要额外需要dynamodb的读写建表权限
示例：
使用KPL（kinesis producer Library）1.x/2.x（不操作） 使用Flink（demo） 使用Lambda（demo） 共享数据流
数据写入：
KPL API kinesis agent AWS部分组件 第三方集成：flink、fluentd、debezium、kafka Connect 读取数据流：
AWS Lambda Kinesis Data Analytics Kinesis Data Firehose KCL（Kinesis Consumer Library）1.x/2.x EMR AWS Glue AWS Redshift EventBridge 第三方组件连接器，支持：Flink、Druid、Spark、Kafka、Kinesumer（Go语言消费客户端） Amazon Kinesis Data Analytics(AWS基于Flink封装的实时处理服务) 支持3种应用开发：
SQL应用程序（旧版） Studio笔记本（Apache flink + zeppelin） 流式传输应用程序（Flink Jar） 建议Flink DataStream API 开发使用流式传输应用，Flink SQL开发使用studio
Amazon Kinesis Data Firehose(输出流) 通过配置化的方式数据同步实时流到其他数据源
输入源 Direct PUT 选择此选项可创建 Kinesis Data Firehose 传输流，生产者应用程序可直接写入该传输流。目前，以下是AWS与 Kinesis Data Firehose 中的 Direct PUT 集成的服务和代理以及开源服务：
      
      <p>
        
          <a href="http://localhost:1313/2024/07/3.-kinesis%E4%BD%BF%E7%94%A8/" class="postShorten-excerpt_link link" aria-label="打开帖子: 3. kinesis使用">阅读全文</a>
        
        
      </p>
    </div>
  </div>
  
    <a href="http://localhost:1313/2024/07/3.-kinesis%E4%BD%BF%E7%94%A8/" aria-label="打开帖子: 3. kinesis使用">
      <div class="postShorten-thumbnailimg">
        <img alt="" src="//www.azheimage.top/markdown-img-paste-2019011014402315.png"/>
      </div>
    </a>
  
</article>

          
          
  <div class="pagination-bar">
    <ul class="pagination">
      
        
        
          <li class="pagination-next">
            <a class="btn btn--default btn--small" href="http://localhost:1313/page/2/" aria-label="下一页">
              <span>下一页</span>
              <i class="fa fa-angle-right text-base icon-ml"></i>
            </a>
          </li>
        
      
      <li class="pagination-number">第 1 页 共 29 页</li>
    </ul>
  </div>


        </section>
        <footer id="footer" class="main-content-wrap">
  <span class="copyrights">
    &copy; 2024 阿·哲. All Rights Reserved
  </span>
</footer>

      </div>
    </div>
    
    <div id="about">
  <div id="about-card">
    <div id="about-btn-close">
      <i class="fa fa-times"></i>
    </div>
    
      <img id="about-card-picture" src="https://www.azheimage.top/markdown-img-paste-20200805194639512.png" alt="作者的图片" />
    
    <h4 id="about-card-name">阿·哲</h4>
    
      <div id="about-card-bio">从事Java、Hadoop、Spark、Flink等大数据技术，离线实时解决方案！</div>
    
    
      <div id="about-card-job">
        <i class="fa fa-briefcase"></i>
        <br/>
        码农🙈
      </div>
    
    
      <div id="about-card-location">
        <i class="fa fa-map-marker-alt"></i>
        <br/>
        杭州
      </div>
    
  </div>
</div>

    

    
  
    <div id="cover" style="background-image:url('https://www.azheimage.top/markdown-img-paste-20200805172727209.png');"></div>
  


    
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/highlight.min.js" integrity="sha512-z+/WWfyD5tccCukM4VvONpEtLmbAm5LDu7eKiyMQJ9m7OfPEDL7gENyDRL3Yfe8XAuGsS2fS4xSMnl6d30kqGQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js" integrity="sha512-uURl+ZXMBrF4AwGaWmEetzrd+J5/8NRkWAvJx5sbPSSuOb0bZLqf+tOzniObO00BjHa/dD7gub9oCGMLPQHtQA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>


<script src="http://localhost:1313/js/script-yqzy9wdlzix4lbbwdnzvwx3egsne77earqmn73v9uno8aupuph8wfguccut.min.js"></script>



<script>
$(document).ready(function() {
  hljs.configure({ classPrefix: '', useBR: false });
  $('pre.code-highlight > code, pre > code').each(function(i, block) {
    if (!$(this).hasClass('codeblock')) {
      $(this).addClass('codeblock');
    }
    hljs.highlightBlock(block);
  });
});
</script>




    
  </body>
</html>

