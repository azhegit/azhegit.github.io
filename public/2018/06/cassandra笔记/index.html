<!DOCTYPE html>
<html lang="zh-cn">
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    
    <script type="application/ld+json">

{  
  "@context":"http://schema.org",
  "@type":"Website",
  "@id":"http:\/\/localhost:1313\/",
  "author": {
    "@type": "Person",
    "name": "é˜¿Â·å“²",
    
    "image": "https://www.azheimage.top/markdown-img-paste-20200805194639512.png"
    
  },
  "name":"â˜€ï¸å“²ã®å°çªâ˜€ï¸",
  "description":"\u003cp\u003eCassandraå­¦ä¹ ç¬”è®°\u003c\/p\u003e",
  "url":"http:\/\/localhost:1313\/2018\/06\/cassandra%E7%AC%94%E8%AE%B0\/",
  "keywords":"[]"
}

</script>
    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="generator" content="Hugo 0.128.1 with theme Tranquilpeak 0.5.3-BETA">
<meta name="author" content="é˜¿Â·å“²">
<meta name="keywords" content="">
<meta name="description" content="Cassandraå­¦ä¹ ç¬”è®°">


<meta property="og:description" content="Cassandraå­¦ä¹ ç¬”è®°">
<meta property="og:type" content="article">
<meta property="og:title" content="cassandraç¬”è®°">
<meta name="twitter:title" content="cassandraç¬”è®°">
<meta property="og:url" content="http://localhost:1313/2018/06/cassandra%E7%AC%94%E8%AE%B0/">
<meta property="twitter:url" content="http://localhost:1313/2018/06/cassandra%E7%AC%94%E8%AE%B0/">
<meta property="og:site_name" content="â˜€ï¸å“²ã®å°çªâ˜€ï¸">
<meta property="og:description" content="Cassandraå­¦ä¹ ç¬”è®°">
<meta name="twitter:description" content="Cassandraå­¦ä¹ ç¬”è®°">
<meta property="og:locale" content="zh-cn">

  
    <meta property="article:published_time" content="2018-06-06T18:53:27">
  
  
    <meta property="article:modified_time" content="2018-06-06T18:53:27">
  
  
  
    
      <meta property="article:section" content="æŠ€æœ¯">
    
      <meta property="article:section" content="æ•°æ®åº“">
    
  
  
    
      <meta property="article:tag" content="cassandra">
    
  


<meta name="twitter:card" content="summary">







  <meta property="og:image" content="https://www.azheimage.top/markdown-img-paste-20200805194639512.png">
  <meta property="twitter:image" content="https://www.azheimage.top/markdown-img-paste-20200805194639512.png">





  <meta property="og:image" content="//www.azheimage.top/markdown-img-paste-20190110144117219.png">
  <meta property="twitter:image" content="//www.azheimage.top/markdown-img-paste-20190110144117219.png">


    <title>cassandraç¬”è®°</title>

    <link rel="icon" href="https://www.azheimage.top/markdown-img-paste-20200805194639512.png">
    

    

    <link rel="canonical" href="http://localhost:1313/2018/06/cassandra%E7%AC%94%E8%AE%B0/">

    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" integrity="sha512-iBBXm8fW90+nuLcSKlbmrPcLa0OT92xO1BIsZ+ywDWZCvqsWgccV3gFoRBv0z+8dLJgyAHIhR35VZc2oM/gI1w==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css" integrity="sha512-H9jrZiiopUdsLpg94A333EfumgUBpO9MdbxStdeITo+KEIMaNfHNvwyjjDJb+ERPaRS6DpyRlKbvPUasNItRyw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    
    
    
    <link rel="stylesheet" href="http://localhost:1313/css/style-h6ccsoet3mzkbb0wngshlfbaweimexgqcxj0h5hu4h82olsdzz6wmqdkajm.min.css" />
    
    

    
      
  


    
    
  </head>

  <body>
    <div id="blog">
      <header id="header" data-behavior="2">
  <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
  <div class="header-title">
    <a class="header-title-link" href="http://localhost:1313/" aria-label="å»é¦–é¡µ">â˜€ï¸å“²ã®å°çªâ˜€ï¸</a>
  </div>
  
</header>

      <nav id="sidebar" data-behavior="2">
  <div class="sidebar-container">
    
      <div class="sidebar-profile">
        <a href="http://localhost:1313/#about" aria-label="é˜…è¯»æœ‰å…³ä½œè€…çš„æ›´å¤šä¿¡æ¯">
          <img class="sidebar-profile-picture" src="https://www.azheimage.top/markdown-img-paste-20200805194639512.png" alt="ä½œè€…çš„å›¾ç‰‡" />
        </a>
        <h4 class="sidebar-profile-name">é˜¿Â·å“²</h4>
        
          <h5 class="sidebar-profile-bio">ä»äº‹Javaã€Hadoopã€Sparkã€Flinkç­‰å¤§æ•°æ®æŠ€æœ¯ï¼Œç¦»çº¿å®æ—¶è§£å†³æ–¹æ¡ˆï¼</h5>
        
      </div>
    
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="http://localhost:1313/" title="Home">
    
      <i class="sidebar-button-icon fa fa-lg fa-home"></i>
      
      <span class="sidebar-button-desc">é¦–é¡µ</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="http://localhost:1313/categories" title="Categories">
    
      <i class="sidebar-button-icon fa fa-lg fa-bookmark"></i>
      
      <span class="sidebar-button-desc">åˆ†ç±»</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="http://localhost:1313/tags" title="Tags">
    
      <i class="sidebar-button-icon fa fa-lg fa-tags"></i>
      
      <span class="sidebar-button-desc">æ ‡ç­¾</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="http://localhost:1313/archives" title="Archives">
    
      <i class="sidebar-button-icon fa fa-lg fa-archive"></i>
      
      <span class="sidebar-button-desc">å½’æ¡£</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="http://localhost:1313/#about" title="About">
    
      <i class="sidebar-button-icon fa fa-lg fa-question"></i>
      
      <span class="sidebar-button-desc">å…³äº</span>
    </a>
  </li>


    </ul>
    <ul class="sidebar-buttons">
      

    </ul>
    <ul class="sidebar-buttons">
      

    </ul>
  </div>
</nav>

      

      <div id="main" data-behavior="2"
        class="
               hasCoverMetaIn
               ">
        <article class="post" id="top">
          
          
            <div class="post-header main-content-wrap text-left">
  
    <h1 class="post-title">
      cassandraç¬”è®°
    </h1>
  
  
  <div class="postShorten-meta post-meta">
    
      <time datetime="2018-06-06T18:53:27&#43;08:00">
        
  
  
  
  
    2018 å¹´ å…­æœˆ 6 å·
  

      </time>
    
    
  
  
    <span>å‘å¸ƒåœ¨</span>
    
      <a class="category-link" href="http://localhost:1313/categories/%e6%8a%80%e6%9c%af">æŠ€æœ¯</a>, 
    
      <a class="category-link" href="http://localhost:1313/categories/%e6%95%b0%e6%8d%ae%e5%ba%93">æ•°æ®åº“</a>
    
  

  </div>

</div>
          
          <div class="post-content markdown">
            <div class="main-content-wrap">
              <p>Cassandraå­¦ä¹ ç¬”è®°</p>
<!-- raw HTML omitted -->
<h1 id="cassandraç¬”è®°">cassandraç¬”è®°</h1>
<hr>
<h2 id="æ¨ªå‘æ¯”è¾ƒnosqlæ•°æ®åº“">æ¨ªå‘æ¯”è¾ƒnosqlæ•°æ®åº“</h2>
<h3 id="nosqlæ•°æ®åº“not-only-sqlåˆ†å¸ƒå¼">nosqlæ•°æ®åº“ï¼ˆnot only sqlï¼‰ï¼Œåˆ†å¸ƒå¼</h3>
<h3 id="ä½¿ç”¨nosqlçš„æ”¹å˜éœ€æ±‚ç‚¹">ä½¿ç”¨nosqlçš„æ”¹å˜éœ€æ±‚ç‚¹</h3>
<ul>
<li>é«˜å¹¶å‘è¯»å†™è¯·æ±‚</li>
<li>é«˜å®¹é‡å’Œé«˜æ•ˆçš„å­˜å‚¨éœ€æ±‚</li>
<li>é«˜æ‰©å±•æ€§å’Œé«˜å¯ç”¨æ€§éœ€æ±‚</li>
</ul>
<h5 id="ä¼ ç»Ÿå…³ç³»å‹æ•°æ®åº“é‡å¤§ç“¶é¢ˆç¬¬ä¸€æ•°æ®æ¨ªå‘æ‰©å±•èƒ½åŠ›ä½ä¸‹ç¬¬äºŒæ•°æ®çš„é«˜æ•ˆè·¯å­˜å‚¨å’Œè®¿é—®çš„éœ€æ±‚æ»¡è¶³èƒ½åŠ›ä½">ä¼ ç»Ÿå…³ç³»å‹æ•°æ®åº“é‡å¤§ç“¶é¢ˆï¼Œç¬¬ä¸€æ•°æ®æ¨ªå‘æ‰©å±•èƒ½åŠ›ä½ä¸‹ï¼Œç¬¬äºŒæ•°æ®çš„é«˜æ•ˆè·¯å­˜å‚¨å’Œè®¿é—®çš„éœ€æ±‚æ»¡è¶³èƒ½åŠ›ä½</h5>
<h3 id="nosqlæ•°æ®åº“ç‰¹ç‚¹">nosqlæ•°æ®åº“ç‰¹ç‚¹ï¼š</h3>
<ul>
<li>æ˜“æ‰©å±•</li>
<li>çµæ´»çš„æ•°æ®æ¨¡å‹</li>
<li>é«˜å¯ç”¨</li>
<li>å¤§æ•°æ®é‡é«˜æ€§èƒ½</li>
</ul>
<h3 id="nosqlæ ¹æ®æ•°æ®æ¨¡å‹4ç±»">nosqlæ ¹æ®æ•°æ®æ¨¡å‹4ç±»ï¼š</h3>
<ul>
<li>é”®å€¼å­˜å‚¨ï¼ˆkey-value) redis</li>
<li>é¢å‘è¡¨(table-oriented) hbase cassandra</li>
<li>é¢å‘æ–‡æœ¬(document-oriented) mongodb</li>
<li>é¢å‘å›¾(graph-oriented) neo4j</li>
</ul>
<h3 id="nosqlè¶‹åŠ¿">nosqlè¶‹åŠ¿</h3>
<p><img src="https://www.azheimage.top/8fbd6f21cfde00c12a5ab3b787e449bd.png" alt="nosqlè¶‹åŠ¿"></p>
<h3 id="nosqlç”¨æˆ·é‡">nosqlç”¨æˆ·é‡</h3>
<p><img src="https://www.azheimage.top/9792cbb72dc2c9d33500e406a4267cd0.png" alt="nosqlç”¨æˆ·"></p>
<h3 id="2018å¹´æœ€æ–°çš„æ‰€æœ‰æ•°æ®åº“æ’åå‰20">2018å¹´æœ€æ–°çš„æ‰€æœ‰æ•°æ®åº“æ’åå‰20</h3>
<p><img src="https://www.azheimage.top/3b5fbab314e54aa17d8f07ac2b0fd957.png" alt="top20"></p>
<h2 id="cassandraå¿«é€Ÿå…¥é—¨">Cassandraå¿«é€Ÿå…¥é—¨</h2>
<ul>
<li>å‘å±•ç®€å²
ä¸¤ä½ä»Amazonè·³æ§½åˆ°Facebookçš„dynamoå·¥ç¨‹å¸ˆå®Œæˆçš„ï¼ŒJavaè¯­è¨€ç¼–å†™ã€‚2009å¹´1æœˆæˆä¸ºApacheå­µåŒ–é¡¹ç›®</li>
<li>Cassandraä¼˜ç‚¹ï¼š
<ol>
<li>é«˜åº¦å¯æ‰©å±•æ€§</li>
<li>é«˜åº¦å¯ç”¨æ€§ï¼Œæ— å•ç‚¹æ•…éšœï¼Œp2på»ä¸­å¿ƒåŒ–å¤„ç†</li>
<li>nosqlåˆ—ç°‡å®ç°</li>
<li>éå¸¸é«˜çš„å†™å…¥ååé‡å’Œè‰¯å¥½çš„è¯»å–ååé‡</li>
<li>cqlæŸ¥è¯¢è¯­è¨€ï¼ˆ0.8ç‰ˆæœ¬å¼€å§‹æ”¯æŒï¼‰</li>
<li>èŒƒå›´æŸ¥è¯¢ï¼ˆé”®çš„èŒƒå›´ï¼‰</li>
<li>å¯è°ƒèŠ‚çš„ä¸€è‡´æ€§</li>
<li>çµæ´»çš„æ¨¡å¼</li>
</ol>
</li>
<li>Cassandraçš„åº”ç”¨åœºæ™¯ï¼ˆç›®å‰Appleï¼ŒFacebookï¼Œebayï¼Œ360ï¼Œé¥¿äº†ä¹ˆ,taobaoï¼‰ï¼š
<ol>
<li>å¾…å¤„ç†çš„æ•°æ®é‡å¾ˆå¤§</li>
<li>æ•°æ®é‡è¶…è¿‡å…³ç³»å‹æ•°æ®åº“çš„æ‰¿è½½èƒ½åŠ›</li>
<li>å¤§é‡é›†ç¾¤</li>
</ol>
</li>
</ul>
<h2 id="cassandraå®‰è£…ä¸è¿è¡Œ">Cassandraå®‰è£…ä¸è¿è¡Œ</h2>
<p>Cassandraç›®å½•ç»“æ„</p>
<ul>
<li>bin å¯æ‰§è¡Œè„šæœ¬</li>
<li>conf é…ç½®
Cassandra.yml å¸¸ç”¨çš„é…ç½®å‚æ•°ï¼š
<ul>
<li>cluster_name é›†ç¾¤çš„åå­—ï¼Œé»˜è®¤Test Cluster</li>
<li>listen_address ç›‘å¬çš„IPæˆ–ä¸»æœºï¼Œé»˜è®¤localhost</li>
<li>commitlog_directory commitlogçš„ä¿å­˜è·¯å¾„ï¼Œå‹ç¼©åŒ…æ–¹å¼ä¿å­˜</li>
<li>data_file_directories æ•°æ®æ–‡ä»¶çš„å­˜æ”¾ç›®å½•</li>
<li>save_caches_directory ç¼“å­˜å­˜æ”¾ç›®å½•</li>
<li>commit_failure_policy(stop,stop_commit,ignore) æäº¤å¤±è´¥æ˜¯çš„ç­–ç•¥</li>
<li>disk_failure_policy(stop,stop_paranoid,best_offert,ignore) ç£ç›˜æ•…éšœ</li>
<li>endpoint_snitch å®šä½èŠ‚ç‚¹å–è·¯ç”±è¯·æ±‚</li>
<li>rpc_address ç›‘å¬å®¢æˆ·ç«¯é“¾æ¥çš„åœ°å€</li>
<li>seed_provider éœ€è¦è”ç³»çš„èŠ‚ç‚¹åœ°å€</li>
<li>compaction_throughput_mb_per_sec é™å®šç‰¹å®šååé‡ä¸‹çš„å‹ç¼©é€Ÿç‡ï¼Œæ¨è16-32</li>
<li>memtable_total_space_in_mb æœ€å¤§ä½¿ç”¨å†…å­˜ç©ºé—´æ•°é‡</li>
<li>concurrent_reads å¹¶å‘è¯»å–æ•°é‡</li>
<li>concurrent_writes å¹¶å‘å†™æ•°é‡</li>
<li>incremental_backuos æ˜¯å¦å¢é‡å¤‡ä»½</li>
<li>snapshot_before_compaction å‹ç¼©å‰æ‰§è¡Œå¿«ç…§</li>
</ul>
</li>
<li>interface æ¥å£</li>
<li>Javadoc å¸®åŠ©æ–‡æ¡£</li>
<li>lib ä¾èµ–çš„jaråŒ…</li>
</ul>
<h2 id="cassandraæ•°æ®æ¨¡å‹ä¸cqlæŸ¥è¯¢è¯­è¨€">Cassandraæ•°æ®æ¨¡å‹ä¸CQLæŸ¥è¯¢è¯­è¨€</h2>
<h3 id="cassandraæ•°æ®æ¨¡å‹">Cassandraæ•°æ®æ¨¡å‹</h3>
<ul>
<li>åˆ—(Column)
<img src="https://www.azheimage.top/6f537d0eb1b0e7340613136d919ae3a2.png" alt="column">
<img src="https://www.azheimage.top/cdffe51ce2a178214238bc0aefb7d19a.png" alt="column2"></li>
<li>è¶…çº§åˆ—(Super Column)
<img src="https://www.azheimage.top/290c5c344f0ccdf753260f4dd0f6b0c5.png" alt="superColumn1">
<img src="https://www.azheimage.top/752662de706a80558209b886e9b5001a.png" alt="superColumn2"></li>
<li>åˆ—æ—(Column Familes)
<img src="https://www.azheimage.top/b0f0446c49ddea3b885d1fd8039c5527.png" alt="columnFamilies"></li>
<li>é”®ç©ºé—´(Keyspaces)
<img src="https://www.azheimage.top/03df71bc011d793cff9f83a6b7ce1cd2.png" alt="keyspaces"></li>
<li>é›†ç¾¤(Cluster)
<img src="https://www.azheimage.top/75bab28b0ee0fd7c3ec2ee0d5a58110e.png" alt="cluster"></li>
<li>å¤åˆé”®(Composite Keys)
<img src="https://www.azheimage.top/ca2eb7e5591368e7d5126534329b7547.png" alt="fuhejian"></li>
<li>Cassandraä¸ä¼ ç»Ÿå…³ç³»æ•°æ®åº“å·®åˆ«
<img src="https://www.azheimage.top/3f14721605f8e87d5f87520693f741d3.png" alt="chabie"></li>
<li>Cassandraçš„æ’åºè§„åˆ™</li>
<li>Cassandraæ•°æ®è®¾è®¡å®ä¾‹
<img src="https://www.azheimage.top/acc8292fa808115138a5abbcf19d0b2f.png" alt="chabie"></li>
</ul>
<h3 id="cqlæŸ¥è¯¢è¯­è¨€">CQLæŸ¥è¯¢è¯­è¨€</h3>
<ul>
<li>CQLçš„æ¦‚å¿µ
<ul>
<li>CQLåŸºæœ¬å«ä¹‰</li>
</ul>
<h5 id="æ¦‚å¿µcqlæ˜¯cassandra-query-languageçš„ç®€ç§°cqlç”±ç±»ä¼¼sqlçš„è¯­å¥ç»„æˆåŒ…æ‹¬ä¿®æ”¹æŸ¥è¯¢çˆ†ç²—å˜æ›´æ•°æ®çš„å­˜å‚¨æ–¹å¼ç­‰ç­‰åŠŸèƒ½æ¯ä¸€è¡Œè¯­å¥ç”±ç»“æŸ">æ¦‚å¿µï¼šCQLæ˜¯Cassandra Query Languageçš„ç®€ç§°ï¼ŒCQLç”±ç±»ä¼¼SQLçš„è¯­å¥ç»„æˆï¼ŒåŒ…æ‹¬ä¿®æ”¹ï¼ŒæŸ¥è¯¢ï¼Œçˆ†ç²—ï¼Œå˜æ›´æ•°æ®çš„å­˜å‚¨æ–¹å¼ç­‰ç­‰åŠŸèƒ½ã€‚æ¯ä¸€è¡Œè¯­å¥ç”±ï¼ˆï¼›ï¼‰ç»“æŸ</h5>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">select</span> <span style="color:#f92672">*</span> <span style="color:#66d9ef">from</span> mytable;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">update</span> mytable <span style="color:#66d9ef">set</span> someColumn<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;Some Value&#39;</span> <span style="color:#66d9ef">where</span> columnName<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;Something Else&#39;</span>;
</span></span></code></pre></div><ul>
<li>å¤§å°å†™ä¸æ•æ„Ÿ</li>
</ul>
<h5 id="å¿½ç•¥å¤§å°å†™åœ¨cqlé‡Œå¯ä»¥spacecolumnå’Œtableçš„åç§°æ˜¯å¿½ç•¥å¤§å°å†™çš„é™¤éç”¨åŒå¼•å·æ‹¬èµ·æ¥æ‰æ˜¯å¤§å°å†™æ•æ„Ÿçš„å¦‚æœä¸ç”¨åŒå¼•å·æ‹¬èµ·æ¥å³ä½¿cqlæºç¨‹å¤§å°å†™ä¹Ÿä¼šè¢«ä¿å­˜ä½å°å†™">å¿½ç•¥å¤§å°å†™ï¼šåœ¨CQLé‡Œï¼Œå¯ä»¥spaceï¼Œcolumnå’Œtableçš„åç§°æ˜¯å¿½ç•¥å¤§å°å†™çš„ï¼Œé™¤éç”¨åŒå¼•å·â€æ‹¬èµ·æ¥ï¼Œæ‰æ˜¯å¤§å°å†™æ•æ„Ÿçš„ã€‚å¦‚æœä¸ç”¨åŒå¼•å·æ‹¬èµ·æ¥ï¼Œå³ä½¿CQLæºç¨‹å¤§å°å†™ï¼Œä¹Ÿä¼šè¢«ä¿å­˜ä½å°å†™</h5>
<h5 id="cqlå…³é”®å­—æ˜¯å¿½ç•¥å¤§å°å†™çš„ä¾‹å¦‚å…³é”®å­—selectå’Œselectæ˜¯ç­‰ä»·çš„ç”¨åŒå¼•å·å¼•èµ·æ¥å°±å˜æˆå¤§å°å†™ä¸¥æ ¼åŒºåˆ†äº†">CQLå…³é”®å­—æ˜¯å¿½ç•¥å¤§å°å†™çš„ï¼Œä¾‹å¦‚ï¼Œå…³é”®å­—SELECTå’Œselectæ˜¯ç­‰ä»·çš„ã€‚ç”¨åŒå¼•å·å¼•èµ·æ¥å°±å˜æˆå¤§å°å†™ä¸¥æ ¼åŒºåˆ†äº†</h5>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">CREATE</span> <span style="color:#66d9ef">TABLE</span> test(
</span></span><span style="display:flex;"><span>  Foo int <span style="color:#66d9ef">PRIMARY</span> <span style="color:#66d9ef">KEY</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">&#34;Bar&#34;</span> int
</span></span><span style="display:flex;"><span>)
</span></span></code></pre></div><ul>
<li>å¸¸ç”¨æ•°æ®ç±»å‹
<img src="https://www.azheimage.top/aa08ff827b620e1461730ea7d3c83663.png" alt="leixing"></li>
<li>CQLå‘½åè§„åˆ™</li>
</ul>
<h5 id="éœ€è¦å­—æ¯æˆ–æ•°å­—å¼€å¤´æ»¡è¶³æ­£åˆ™è¡¨è¾¾å¼a-za-z0-9_">éœ€è¦å­—æ¯æˆ–æ•°å­—å¼€å¤´ï¼Œæ»¡è¶³æ­£åˆ™è¡¨è¾¾å¼[a-zA-Z0-9_]*</h5>
<ul>
<li>CQLæ³¨é‡Šè§„åˆ™</li>
</ul>
<h5 id="å•è¡Œæ³¨é‡Šä½¿ç”¨--æˆ–è€…æ³¨é‡Šå†…å®¹">å•è¡Œæ³¨é‡Šï¼šä½¿ç”¨&ndash;æˆ–è€…//æ³¨é‡Šå†…å®¹</h5>
<h5 id="å¤šè¡Œæ³¨é‡Šä½¿ç”¨æ³¨é‡Šå†…å®¹">å¤šè¡Œæ³¨é‡Šï¼šä½¿ç”¨/**æ³¨é‡Šå†…å®¹**/</h5>
<ul>
<li>CQLä¿ç•™å­—</li>
</ul>
<h5 id="æ­£å¸¸ä¸ä½¿ç”¨ä¿ç•™å­—å¦‚æœè¦ä½¿ç”¨å¯ä»¥ç”¨æ‹¬èµ·æ¥">æ­£å¸¸ä¸ä½¿ç”¨ä¿ç•™å­—ï¼Œå¦‚æœè¦ä½¿ç”¨ï¼Œå¯ä»¥ç”¨â€œâ€æ‹¬èµ·æ¥</h5>
<img src="https://www.azheimage.top/ae91ca547e4e53026d9ea6c897cbdf1e.png" alt="baoliuzi"></li>
<li>CQLæ•°æ®å®šä¹‰è¯­å¥
<img src="https://www.azheimage.top/453ba01ed1a4c1019da7a39174550381.png" alt="ddl1">
<ul>
<li>CREATE keyspace(åˆ›å»ºkeyspacce)
è¯­æ³•ï¼šCREATE keyspace (if not exists)? <!-- raw HTML omitted --> with <!-- raw HTML omitted -->
æ³¨æ„ï¼šIDæ©æ›¿åè€Œé•¿åº¦éœ€è¦å°é±¼ç­‰äº32ï¼Œå¤§å°å†™æ•æ„Ÿï¼Œå¯ä»¥ä½¿ç”¨åŒå¼•å·å®šä¹‰å¤§å°å†™æ•æ„Ÿçš„åå­—
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">create</span> keyspace excelsior <span style="color:#66d9ef">with</span> replication<span style="color:#f92672">=</span><span style="color:#960050;background-color:#1e0010">{</span><span style="color:#e6db74">&#39;class&#39;</span>:<span style="color:#e6db74">&#39;simplestrategy&#39;</span>,<span style="color:#e6db74">&#39;replication_factor&#39;</span>:<span style="color:#ae81ff">3</span><span style="color:#960050;background-color:#1e0010">}</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">create</span> keyspace excalibur <span style="color:#66d9ef">with</span> replication<span style="color:#f92672">=</span><span style="color:#960050;background-color:#1e0010">{</span><span style="color:#e6db74">&#39;class&#39;</span>:<span style="color:#e6db74">&#39;networktopoligystrategy&#39;</span>,<span style="color:#e6db74">&#39;DC1&#39;</span>:<span style="color:#ae81ff">1</span>,<span style="color:#e6db74">&#39;DC2&#39;</span>:<span style="color:#ae81ff">3</span><span style="color:#960050;background-color:#1e0010">}</span> <span style="color:#66d9ef">and</span> durable_writes<span style="color:#f92672">=</span><span style="color:#66d9ef">false</span>;
</span></span></code></pre></div><img src="https://www.azheimage.top/d559cfcfa9f77ce0396849d3568287fb.png" alt="ddl2"></li>
<li>use keyspace(åˆ‡æ¢é”®ç©ºé—´)</li>
<li>alter keyspace(ä¿®æ”¹é”®ç©ºé—´)
<code>alter keyspace &lt;identifer&gt; with &lt;proteries&gt;</code>
<blockquote>
<p>alter keyspace excelsior with replication={&lsquo;class&rsquo;:&lsquo;simplestrategy&rsquo;,&lsquo;replication_factor&rsquo;:4}</p>
</blockquote>
</li>
<li>drop keyspace(åˆ é™¤é”®ç©ºé—´)
è¯­æ³•ï¼š<code>drop keyspace (if not exists)? &lt;identifer&gt;</code>
<blockquote>
<p>drop keyspace excelsior;</p>
</blockquote>
</li>
<li>è§¦å‘å™¨
<img src="https://www.azheimage.top/db4ee2491de5f400a0eedfeab66bff21.png" alt="chufaqi">
<ul>
<li>è‡ªå®šä¹‰ç±»å‹ä½¿ç”¨</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">CREATE</span> KEYSPACE complex
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">WITH</span> replication <span style="color:#f92672">=</span> <span style="color:#960050;background-color:#1e0010">{</span><span style="color:#e6db74">&#39;class&#39;</span> : <span style="color:#e6db74">&#39;SimpleStrategy&#39;</span>, <span style="color:#e6db74">&#39;replication_factor&#39;</span> :
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">3</span><span style="color:#960050;background-color:#1e0010">}</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">CREATE</span> <span style="color:#66d9ef">TYPE</span> complex.phone (
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">alias</span> text,
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>number text
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">CREATE</span> <span style="color:#66d9ef">TYPE</span> complex.address (
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>street text,
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>city text,
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>zip_code int,
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>phones list<span style="color:#f92672">&lt;</span>frozen<span style="color:#f92672">&lt;</span>phone<span style="color:#f92672">&gt;&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">CREATE</span> <span style="color:#66d9ef">TABLE</span> complex.accounts (
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>email text <span style="color:#66d9ef">PRIMARY</span> <span style="color:#66d9ef">KEY</span>,
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>name text,
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>addr frozen<span style="color:#f92672">&lt;</span>address<span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">-- è‡ªå®šä¹‰ç±»å‹ï¼šphoneå’Œaddressã€‚
</span></span></span></code></pre></div></li>
</ul>
</li>
<li>CQLæ•°æ®æ“ä½œè¯­å¥
<h5 id="cqlæ•°æ®æ“ä½œè¯­å¥ä¸»è¦æ˜¯insertupdatedeleteå…·ä½“åŒ…æ‹¬">CQLæ•°æ®æ“ä½œè¯­å¥ä¸»è¦æ˜¯INSERT,UPDATE,DELETE,å…·ä½“åŒ…æ‹¬</h5>
<ul>
<li>INSTERT
<img src="https://www.azheimage.top/80cc933039cd2cb80d72f5648bb89214.png" alt="insert"></li>
<li>UPDATE
<img src="https://www.azheimage.top/b6bc65d554d34dbbaf47bc76da3fc0e0.png" alt="update"></li>
<li>DELETE
<img src="https://www.azheimage.top/6318f5c5d7bb8e98b0a01169dc52f94c.png" alt="delete"></li>
<li>BATCHï¼ˆåŸå­æ€§çš„æ“ä½œï¼Œè¦ä¹ˆéƒ½æ‰§è¡ŒæˆåŠŸï¼Œå¦åˆ™å›æ»šï¼‰
<img src="https://www.azheimage.top/7ef5fcbf45da55c154e2e31986d2f818.png" alt="batch"></li>
<li>cqlæ“ä½œæ¼”ç¤º
<img src="https://www.azheimage.top/f64471ed3d0cc46d42e78b7f1d5566e8.png" alt="cql"></li>
</ul>
</li>
<li>CQLæ•°æ®æŸ¥è¯¢è¯­å¥
<img src="https://www.azheimage.top/f416ff49add26d070121ed50a174b6a5.png" alt="select">
<ul>
<li>è¯­æ³•ï¼š</li>
</ul>
<pre tabindex="0"><code>&lt;select-stmt&gt; ::= SELECT ( JSON )? &lt;select-clause&gt;
                  FROM &lt;tablename&gt;
                  ( WHERE &lt;where-clause&gt; )?
                  ( ORDER BY &lt;order-by&gt; )?
                  ( PER PARTITION LIMIT &lt;integer&gt; )?
                  ( LIMIT &lt;integer&gt; )?
                  ( ALLOW FILTERING )?

&lt;select-clause&gt; ::= DISTINCT? &lt;selection-list&gt;

&lt;selection-list&gt; ::= &lt;selector&gt; (AS &lt;identifier&gt;)? ( &#39;,&#39; &lt;selector&gt; (AS &lt;identifier&gt;)? )*
                   | &#39;*&#39;

&lt;selector&gt; ::= &lt;identifier&gt;
             | &lt;term&gt;
             | WRITETIME &#39;(&#39; &lt;identifier&gt; &#39;)&#39;
             | COUNT &#39;(&#39; &#39;*&#39; &#39;)&#39;
             | TTL &#39;(&#39; &lt;identifier&gt; &#39;)&#39;
             | CAST &#39;(&#39; &lt;selector&gt; AS &lt;type&gt; &#39;)&#39;
             | &lt;function&gt; &#39;(&#39; (&lt;selector&gt; (&#39;,&#39; &lt;selector&gt;)*)? &#39;)&#39;

&lt;where-clause&gt; ::= &lt;relation&gt; ( AND &lt;relation&gt; )*

&lt;relation&gt; ::= &lt;identifier&gt; &lt;op&gt; &lt;term&gt;
             | &#39;(&#39; &lt;identifier&gt; (&#39;,&#39; &lt;identifier&gt;)* &#39;)&#39; &lt;op&gt; &lt;term-tuple&gt;
             | &lt;identifier&gt; IN &#39;(&#39; ( &lt;term&gt; ( &#39;,&#39; &lt;term&gt;)* )? &#39;)&#39;
             | &#39;(&#39; &lt;identifier&gt; (&#39;,&#39; &lt;identifier&gt;)* &#39;)&#39; IN &#39;(&#39; ( &lt;term-tuple&gt; ( &#39;,&#39; &lt;term-tuple&gt;)* )? &#39;)&#39;
             | TOKEN &#39;(&#39; &lt;identifier&gt; ( &#39;,&#39; &lt;identifer&gt;)* &#39;)&#39; &lt;op&gt; &lt;term&gt;

&lt;op&gt; ::= &#39;=&#39; | &#39;&lt;&#39; | &#39;&gt;&#39; | &#39;&lt;=&#39; | &#39;&gt;=&#39; | CONTAINS | CONTAINS KEY
&lt;order-by&gt; ::= &lt;ordering&gt; ( &#39;,&#39; &lt;odering&gt; )*
&lt;ordering&gt; ::= &lt;identifer&gt; ( ASC | DESC )?
&lt;term-tuple&gt; ::= &#39;(&#39; &lt;term&gt; (&#39;,&#39; &lt;term&gt;)* &#39;)&#39;
</code></pre><ul>
<li>ä¾‹å­ï¼š</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">SELECT</span> name, occupation <span style="color:#66d9ef">FROM</span> users <span style="color:#66d9ef">WHERE</span> userid <span style="color:#66d9ef">IN</span> (<span style="color:#ae81ff">199</span>, <span style="color:#ae81ff">200</span>, <span style="color:#ae81ff">207</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">SELECT</span> JSON name, occupation <span style="color:#66d9ef">FROM</span> users <span style="color:#66d9ef">WHERE</span> userid <span style="color:#f92672">=</span> <span style="color:#ae81ff">199</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">SELECT</span> name <span style="color:#66d9ef">AS</span> user_name, occupation <span style="color:#66d9ef">AS</span> user_occupation <span style="color:#66d9ef">FROM</span> users;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">SELECT</span> time, value
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">FROM</span> events
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">WHERE</span> event_type <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;myEvent&#39;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">AND</span> time <span style="color:#f92672">&gt;</span> <span style="color:#e6db74">&#39;2011-02-03&#39;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">AND</span> time <span style="color:#f92672">&lt;=</span> <span style="color:#e6db74">&#39;2012-01-01&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">SELECT</span> <span style="color:#66d9ef">COUNT</span>(<span style="color:#f92672">*</span>) <span style="color:#66d9ef">FROM</span> users;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">SELECT</span> <span style="color:#66d9ef">COUNT</span>(<span style="color:#f92672">*</span>) <span style="color:#66d9ef">AS</span> user_count <span style="color:#66d9ef">FROM</span> users;
</span></span></code></pre></div><h5 id="ç¬¬ä¸€ç´¢å¼•æŸ¥è¯¢">ç¬¬ä¸€ï¼šç´¢å¼•æŸ¥è¯¢</h5>
cassandraæ˜¯æ”¯æŒåˆ›å»ºäºŒçº§ç´¢å¼•çš„ï¼Œç´¢å¼•å¯ä»¥åˆ›å»ºåœ¨é™¤äº†ç¬¬ä¸€ä¸ªä¸»é”®ä¹‹å¤–æ‰€æœ‰çš„åˆ—ä¸Šï¼Œå½“ç„¶æœ‰äº›ç±»å‹é™¤å¤–ï¼Œä¾‹å¦‚é›†åˆç±»å‹ã€‚
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">CREATE</span> <span style="color:#66d9ef">TABLE</span> test(
</span></span><span style="display:flex;"><span>a INT,
</span></span><span style="display:flex;"><span>b INT,
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">c</span> INT,
</span></span><span style="display:flex;"><span>d INT,
</span></span><span style="display:flex;"><span>e INT,
</span></span><span style="display:flex;"><span>m INT,
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">PRIMARY</span> <span style="color:#66d9ef">KEY</span>(a,b,<span style="color:#66d9ef">c</span>));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">CREATE</span> <span style="color:#66d9ef">INDEX</span> <span style="color:#66d9ef">ON</span> test(<span style="color:#66d9ef">c</span>);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">CREATE</span> <span style="color:#66d9ef">INDEX</span> <span style="color:#66d9ef">ON</span> test(e);
</span></span></code></pre></div>åœ¨ç¬¬ä¸€ä¸»é”®aä¸Šåˆ›å»ºç´¢å¼•æ˜¯ä¸å¯ä»¥çš„ï¼š
<code>CREATE INDEX ON test(a) //X</code>
ç´¢å¼•åˆ—åªå¯ä»¥ç”¨=å·æŸ¥è¯¢ï¼Œæ‰€ä»¥
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">SELECT</span> <span style="color:#f92672">*</span> <span style="color:#66d9ef">FROM</span> test <span style="color:#66d9ef">WHERE</span> e<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>; <span style="color:#f92672">//</span><span style="color:#960050;background-color:#1e0010">æ˜¯å¯ä»¥</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">SELECT</span> <span style="color:#f92672">*</span> <span style="color:#66d9ef">FROM</span> test <span style="color:#66d9ef">WHERE</span> e<span style="color:#f92672">&gt;</span><span style="color:#ae81ff">1</span>; <span style="color:#f92672">//</span><span style="color:#960050;background-color:#1e0010">å°±ä¸è¡Œäº†ã€‚</span>
</span></span></code></pre></div>å¦‚æœä½ çš„æŸ¥è¯¢æ¡ä»¶é‡Œï¼Œæœ‰ä¸€ä¸ªæ˜¯æ ¹æ®ç´¢å¼•æŸ¥è¯¢ï¼Œé‚£å…¶å®ƒéç´¢å¼•éä¸»é”®å­—æ®µï¼Œå¯ä»¥é€šè¿‡åŠ ä¸€ä¸ªALLOW FILTERINGæ¥è¿‡æ»¤å®ç°ã€
ä¾‹å¦‚ï¼š
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">SELECT</span> <span style="color:#f92672">*</span> <span style="color:#66d9ef">FROM</span> test <span style="color:#66d9ef">WHERE</span> e<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span> <span style="color:#66d9ef">AND</span> m<span style="color:#f92672">&gt;</span><span style="color:#ae81ff">2</span> ALLOW FILTERING;
</span></span></code></pre></div>ç¬¬äºŒï¼šæ’åº
cassandraä¹Ÿæ˜¯æ”¯æŒæ’åºçš„ï¼Œorder byã€‚ å½“ç„¶å®ƒçš„æ’åºä¹Ÿæ˜¯æœ‰æ¡ä»¶çš„ï¼Œ
<ol>
<li>å¿…é¡»æœ‰ç¬¬ä¸€ä¸»é”®çš„=å·æŸ¥è¯¢ã€‚cassandraçš„ç¬¬ä¸€ä¸»é”®æ˜¯å†³å®šè®°å½•åˆ†å¸ƒåœ¨å“ªå°æœºå™¨ä¸Šï¼Œä¹Ÿå°±æ˜¯è¯´cassandraåªæ”¯æŒå•å°æœºå™¨ä¸Šçš„è®°å½•æ’åºã€‚</li>
<li>é‚£å°±æ˜¯åªèƒ½æ ¹æ®ç¬¬äºŒã€ä¸‰ã€å››â€¦ä¸»é”®è¿›è¡Œæœ‰åºçš„ï¼Œç›¸åŒçš„æ’åºã€‚</li>
<li>ä¸èƒ½æœ‰ç´¢å¼•æŸ¥è¯¢</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">SELECT</span> <span style="color:#f92672">*</span> <span style="color:#66d9ef">FROM</span> test <span style="color:#66d9ef">WHERE</span> a<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span> <span style="color:#66d9ef">ORDER</span> <span style="color:#66d9ef">BY</span> b <span style="color:#66d9ef">DESC</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">SELECT</span> <span style="color:#f92672">*</span> <span style="color:#66d9ef">FROM</span> test <span style="color:#66d9ef">WHERE</span> a<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span> <span style="color:#66d9ef">ORDER</span> <span style="color:#66d9ef">BY</span> b <span style="color:#66d9ef">DESC</span>, <span style="color:#66d9ef">c</span> <span style="color:#66d9ef">DESC</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">SELECT</span> <span style="color:#f92672">*</span> <span style="color:#66d9ef">FROM</span> test <span style="color:#66d9ef">WHERE</span> a<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span> <span style="color:#66d9ef">ORDER</span> <span style="color:#66d9ef">BY</span> b <span style="color:#66d9ef">ASC</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">SELECT</span> <span style="color:#f92672">*</span> <span style="color:#66d9ef">FROM</span> test <span style="color:#66d9ef">WHERE</span> a<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span> <span style="color:#66d9ef">ORDER</span> <span style="color:#66d9ef">BY</span> b <span style="color:#66d9ef">ASC</span>, <span style="color:#66d9ef">c</span> <span style="color:#66d9ef">ASC</span>;
</span></span></code></pre></div>ä»¥ä¸Šéƒ½æ˜¯å¯ä»¥çš„ã€‚
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">SELECT</span> <span style="color:#f92672">*</span> <span style="color:#66d9ef">FROM</span> test <span style="color:#66d9ef">ORDER</span> <span style="color:#66d9ef">BY</span> b <span style="color:#66d9ef">DESC</span>; <span style="color:#f92672">//</span><span style="color:#960050;background-color:#1e0010">æ²¡æœ‰ç¬¬ä¸€ä¸»é”®</span> <span style="color:#960050;background-color:#1e0010">ä¸è¡Œ</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">SELECT</span> <span style="color:#f92672">*</span> <span style="color:#66d9ef">FROM</span> test <span style="color:#66d9ef">WHERE</span> a<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span> <span style="color:#66d9ef">ORDER</span> <span style="color:#66d9ef">BY</span> <span style="color:#66d9ef">c</span> <span style="color:#66d9ef">DESC</span>; <span style="color:#f92672">//</span><span style="color:#960050;background-color:#1e0010">å¿…é¡»ä»¥ç¬¬äºŒä¸»é”®å¼€å§‹æ’åº</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">SELECT</span> <span style="color:#f92672">*</span> <span style="color:#66d9ef">FROM</span> test <span style="color:#66d9ef">WHERE</span> a<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span> <span style="color:#66d9ef">ORDER</span> <span style="color:#66d9ef">BY</span> b <span style="color:#66d9ef">DESC</span>, <span style="color:#66d9ef">c</span> <span style="color:#66d9ef">ASC</span>; <span style="color:#f92672">//</span><span style="color:#960050;background-color:#1e0010">ä¸æ˜¯ç›¸åŒçš„æ’åºã€‚</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">SELECT</span> <span style="color:#f92672">*</span> <span style="color:#66d9ef">FROM</span> test <span style="color:#66d9ef">WHERE</span> e<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span> <span style="color:#66d9ef">ORDER</span> <span style="color:#66d9ef">BY</span> b <span style="color:#66d9ef">DESC</span>; <span style="color:#f92672">//</span><span style="color:#960050;background-color:#1e0010">ä¸èƒ½æœ‰ç´¢å¼•ã€‚</span>
</span></span></code></pre></div>å…¶å®cassandraçš„ä»»ä½•æŸ¥è¯¢ï¼Œæœ€åçš„ç»“æœéƒ½æ˜¯æœ‰åºçš„ï¼Œé»˜è®¤çš„æ˜¯b asc, c ascï¼Œå› ä¸ºå®ƒå†…éƒ¨å°±æ˜¯è¿™æ ·å­˜å‚¨çš„ã€‚
å½“ç„¶è¿™ä¸ªé»˜è®¤å­˜å‚¨æ’åºæ–¹å¼ï¼Œæ˜¯å¯ä»¥åœ¨å»ºè¡¨çš„æ—¶å€™æŒ‡å®šçš„ã€‚
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">CREATE</span> <span style="color:#66d9ef">TABLE</span> test(
</span></span><span style="display:flex;"><span>	a INT,
</span></span><span style="display:flex;"><span>	b INT,
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">c</span> INT,
</span></span><span style="display:flex;"><span>	d INT,
</span></span><span style="display:flex;"><span>	e INT,
</span></span><span style="display:flex;"><span>	m INT,
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">PRIMARY</span> <span style="color:#66d9ef">KEY</span>(a,b,<span style="color:#66d9ef">c</span>))
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">WITH</span> CLUSTERING <span style="color:#66d9ef">ORDER</span> <span style="color:#66d9ef">BY</span> (b <span style="color:#66d9ef">DESC</span>, <span style="color:#66d9ef">c</span> <span style="color:#66d9ef">ASC</span>);
</span></span></code></pre></div></li>
</ul>
              


            </div>
          </div>
          <div id="post-footer" class="post-footer main-content-wrap">
            
              
                
                
                  <div class="post-footer-tags">
                    <span class="text-color-light text-small">æ ‡ç­¾</span><br/>
                    
  <a class="tag tag--primary tag--small" href="http://localhost:1313/tags/cassandra/">cassandra</a>

                  </div>
                
              
            
            
<div class="post-actions-wrap">
  <nav >
    <ul class="post-actions post-action-nav">
      
        <li class="post-action">
          
            <a class="post-action-btn btn btn--default tooltip--top" href="http://localhost:1313/2018/06/%E5%AE%89%E8%A3%85gitbook/" data-tooltip="å®‰è£…GitBook" aria-label="ä¸‹ä¸€ç¯‡: å®‰è£…GitBook">
          
              <i class="fa fa-angle-left"></i>
              <span class="hide-xs hide-sm text-small icon-ml">ä¸‹ä¸€ç¯‡</span>
            </a>
        </li>
        <li class="post-action">
          
            <a class="post-action-btn btn btn--default tooltip--top" href="http://localhost:1313/2018/06/%E7%AC%AC%E4%B8%80%E7%AF%87%E5%8D%9A%E5%AE%A2/" data-tooltip="ç¬¬ä¸€ç¯‡åšå®¢" aria-label="ä¸Šä¸€ç¯‡: ç¬¬ä¸€ç¯‡åšå®¢">
          
              <span class="hide-xs hide-sm text-small icon-mr">ä¸Šä¸€ç¯‡</span>
              <i class="fa fa-angle-right"></i>
            </a>
        </li>
      
    </ul>
  </nav>
<ul class="post-actions post-action-share" >
  
    <li class="post-action hide-lg hide-md hide-sm">
      <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions" aria-label="åˆ†äº«è¿™ä¸ªå¸–å­">
        <i class="fa fa-share-alt" aria-hidden="true"></i>
      </a>
    </li>
    
  
  
  <li class="post-action">
    
      <a class="post-action-btn btn btn--default" href="#top" aria-label="å›åˆ°é¡¶éƒ¨">
      <i class="fa fa-arrow-up" aria-hidden="true"></i>
    
    </a>
  </li>
</ul>
</div>


            
  


          </div>
        </article>
        <footer id="footer" class="main-content-wrap">
  <span class="copyrights">
    &copy; 2024 é˜¿Â·å“². All Rights Reserved
  </span>
</footer>

      </div>
      <div id="bottom-bar" class="post-bottom-bar" data-behavior="2">
        
<div class="post-actions-wrap">
  <nav >
    <ul class="post-actions post-action-nav">
      
        <li class="post-action">
          
            <a class="post-action-btn btn btn--default tooltip--top" href="http://localhost:1313/2018/06/%E5%AE%89%E8%A3%85gitbook/" data-tooltip="å®‰è£…GitBook" aria-label="ä¸‹ä¸€ç¯‡: å®‰è£…GitBook">
          
              <i class="fa fa-angle-left"></i>
              <span class="hide-xs hide-sm text-small icon-ml">ä¸‹ä¸€ç¯‡</span>
            </a>
        </li>
        <li class="post-action">
          
            <a class="post-action-btn btn btn--default tooltip--top" href="http://localhost:1313/2018/06/%E7%AC%AC%E4%B8%80%E7%AF%87%E5%8D%9A%E5%AE%A2/" data-tooltip="ç¬¬ä¸€ç¯‡åšå®¢" aria-label="ä¸Šä¸€ç¯‡: ç¬¬ä¸€ç¯‡åšå®¢">
          
              <span class="hide-xs hide-sm text-small icon-mr">ä¸Šä¸€ç¯‡</span>
              <i class="fa fa-angle-right"></i>
            </a>
        </li>
      
    </ul>
  </nav>
<ul class="post-actions post-action-share" >
  
    <li class="post-action hide-lg hide-md hide-sm">
      <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions" aria-label="åˆ†äº«è¿™ä¸ªå¸–å­">
        <i class="fa fa-share-alt" aria-hidden="true"></i>
      </a>
    </li>
    
  
  
  <li class="post-action">
    
      <a class="post-action-btn btn btn--default" href="#top" aria-label="å›åˆ°é¡¶éƒ¨">
      <i class="fa fa-arrow-up" aria-hidden="true"></i>
    
    </a>
  </li>
</ul>
</div>


      </div>
      

    </div>
    
    <div id="about">
  <div id="about-card">
    <div id="about-btn-close">
      <i class="fa fa-times"></i>
    </div>
    
      <img id="about-card-picture" src="https://www.azheimage.top/markdown-img-paste-20200805194639512.png" alt="ä½œè€…çš„å›¾ç‰‡" />
    
    <h4 id="about-card-name">é˜¿Â·å“²</h4>
    
      <div id="about-card-bio">ä»äº‹Javaã€Hadoopã€Sparkã€Flinkç­‰å¤§æ•°æ®æŠ€æœ¯ï¼Œç¦»çº¿å®æ—¶è§£å†³æ–¹æ¡ˆï¼</div>
    
    
      <div id="about-card-job">
        <i class="fa fa-briefcase"></i>
        <br/>
        ç å†œğŸ™ˆ
      </div>
    
    
      <div id="about-card-location">
        <i class="fa fa-map-marker-alt"></i>
        <br/>
        æ­å·
      </div>
    
  </div>
</div>

    

    
  
    <div id="cover" style="background-image:url('https://www.azheimage.top/markdown-img-paste-20200805172727209.png');"></div>
  


    
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/highlight.min.js" integrity="sha512-z+/WWfyD5tccCukM4VvONpEtLmbAm5LDu7eKiyMQJ9m7OfPEDL7gENyDRL3Yfe8XAuGsS2fS4xSMnl6d30kqGQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js" integrity="sha512-uURl+ZXMBrF4AwGaWmEetzrd+J5/8NRkWAvJx5sbPSSuOb0bZLqf+tOzniObO00BjHa/dD7gub9oCGMLPQHtQA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>


<script src="http://localhost:1313/js/script-yqzy9wdlzix4lbbwdnzvwx3egsne77earqmn73v9uno8aupuph8wfguccut.min.js"></script>



<script>
$(document).ready(function() {
  hljs.configure({ classPrefix: '', useBR: false });
  $('pre.code-highlight > code, pre > code').each(function(i, block) {
    if (!$(this).hasClass('codeblock')) {
      $(this).addClass('codeblock');
    }
    hljs.highlightBlock(block);
  });
});
</script>




    
  </body>
</html>

